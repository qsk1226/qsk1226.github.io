<!DOCTYPE HTML>
<html lang="zh-CN">

<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="大爷来玩儿啊">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="http://www.throne4j.com">
    <!--SEO-->

<meta name="keywords" content="基础">


<meta name="description" content="java基础之Object走上java开发之路伊始，我们知道java是面向对象程序设计语言。
java中的Object是所有类的超级父类(基本类型不是对象，不做考虑)，如果没有显示指出类所实现的...">


<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">
    <!--Title-->

<title>
    
    Object详解 |
    
    大爷来玩儿啊
</title>

<link rel="alternate" href="/atom.xml" title="大爷来玩儿啊" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    

<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">
    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

</head></html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header" style="background-image:url(
    http://snippet.shenliyang.com/img/banner.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="我跟人飙车来着">
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
            <!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
            <h2>
                只要干不死，就往死里干
            </h2>
            
        </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://www.throne4j.com">
                        大爷来玩儿啊</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa fa-home"></i>
                                Main</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/netty/"><i class="fa fa-book"></i>
                                Netty</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/java/"><i class="fa fa-book"></i>
                                Java</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/database/"><i class="fa fa-book"></i>
                                Database</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/spring/"><i class="fa fa-book"></i>
                                Spring</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/protocol/"><i class="fa fa-book"></i>
                                Protocol</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/design-pattern/"><i class="fa fa-book"></i>
                                DesignPattern</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/domain-driver/"><i class="fa fa-book"></i>
                                DomainDrive</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/redis/"><i class="fa fa-book"></i>
                                Redis</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/zookeeper/"><i class="fa fa-book"></i>
                                Zookepper</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa fa-archive"></i>
                                TimeMachine</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/about/"><i class="fa fa-archive"></i>
                                Interestion</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Object详解">
            
            Object详解
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a class="category-link" href="/categories/java/">java</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-link" href="/tags/基础/">基础</a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2016/05/27</span>
    </span>
    
    <span class="fa-wrap">
        <i class="fa fa-eye"></i>
        <span id="busuanzi_value_page_pv"></span>
    </span>
    
    
</div>
        
        
    </div>
    
    <div class="post-body post-content">
        <h1 id="java基础之Object"><a href="#java基础之Object" class="headerlink" title="java基础之Object"></a>java基础之Object</h1><p>走上java开发之路伊始，我们知道java是面向对象程序设计语言。</p>
<p>java中的Object是所有类的超级父类(基本类型不是对象，不做考虑)，如果没有显示指出类所实现的超类，Object类就被认为是这个类的超类。</p>
<p>Object所描述的属性和方法抽象出了所有对象所共有的属性和方法。</p>
<h2 id="private-static-native-void-registerNatives"><a href="#private-static-native-void-registerNatives" class="headerlink" title="private static native void registerNatives()"></a>private static native void registerNatives()</h2><p>注册本地方法</p>
<h2 id="public-final-native-Class-lt-gt-getClass"><a href="#public-final-native-Class-lt-gt-getClass" class="headerlink" title="public final native Class&lt;?&gt; getClass()"></a>public final native Class&lt;?&gt; getClass()</h2><p>不可被子类重写的native方法，getClass() 返回的实例对象的真实class类型</p>
<h2 id="public-native-int-hashCode"><a href="#public-native-int-hashCode" class="headerlink" title="public native int hashCode()"></a>public native int hashCode()</h2><p>可被子类重写的本地方法。默认情况下，对象的哈希码是通过将该对象的内部地址转换成一个整数来实现的。<br>哈希码的通用约定如下：</p>
<ul>
<li><p>在java程序执行过程中，在一个对象没有被改变的前提下，无论这个对象被调用多少次，hashCode方法都会返回相同的整数值。对象的哈希码没有必要在不同的程序中保持相同的值。</p>
</li>
<li><p>如果2个对象使用equals方法进行比较并且相同的话，那么这2个对象的hashCode方法的值也必须相等。</p>
<blockquote>
<p>现存在两个对象，obj1 和 obj2,如果违反这个约定的话，obj1.equals(obj2),但是hashCode不相等，在哈希表中会存入obj1和obj2，但是这两个元素是重复的，对于拥有不可重复元素特性的的Set集合来说，就会失去这一重要特性，而产生不可预期的后果。</p>
</blockquote>
</li>
<li><p>如果根据equals方法，得到两个对象不相等，那么这2个对象的hashCode值不需要必须不相同。但是，不相等的对象的hashCode值不同的话可以提高哈希表的性能。</p>
</li>
</ul>
<h2 id="public-boolean-equals-Object-obj"><a href="#public-boolean-equals-Object-obj" class="headerlink" title="public boolean equals(Object obj)"></a>public boolean equals(Object obj)</h2><p>比较对象的内存地址<br>equals方法在非空对象引用上的特性：</p>
<ul>
<li>reflexive，自反性。任何非空引用值x，对于x.equals(x)必须返回true</li>
<li>symmetric，对称性。任何非空引用值x和y，如果x.equals(y)为true，那么y.equals(x)也必须为true</li>
<li>transitive，传递性。任何非空引用值x、y和z，如果x.equals(y)为true并且y.equals(z)为true，那么x.equals(z)也必定为true</li>
<li>consistent，一致性。任何非空引用值x和y，多次调用 x.equals(y) 始终返回 true 或始终返回 false，前提是对象上 equals 比较中所用的信息没有被修改</li>
<li>对于任何非空引用值 x，x.equals(null) 都应返回 false</li>
</ul>
<h2 id="protected-native-Object-clone-throws-CloneNotSupportedException"><a href="#protected-native-Object-clone-throws-CloneNotSupportedException" class="headerlink" title="protected native Object clone() throws CloneNotSupportedException"></a>protected native Object clone() throws CloneNotSupportedException</h2><p>创建并返回对象的一份浅拷贝，一般情况下，对于任何对象 x，表达式 x.clone() != x 为true，x.clone().getClass() == x.getClass() 也为true。</p>
<p>由于Object本身没有实现Cloneable接口，所以不重写clone方法并且进行调用的话会发生CloneNotSupportedException异常</p>
<h2 id="public-String-toString"><a href="#public-String-toString" class="headerlink" title="public String toString()"></a>public String toString()</h2><p>Object对象的默认实现，即输出类的名字@实例的哈希码的16进制：</p>
<h2 id="public-final-native-void-notify"><a href="#public-final-native-void-notify" class="headerlink" title="public final native void notify()"></a>public final native void notify()</h2><p>唤醒一个在此对象监视器上等待的线程(监视器相当于就是锁的概念)。如果所有的线程都在此对象上等待，那么只会选择一个线程。选择是任意性的，并在对实现做出决定时发生。一个线程在对象监视器上等待可以调用wait方法。</p>
<p>直到当前线程放弃对象上的锁之后，被唤醒的线程才可以继续处理。被唤醒的线程将以常规方式与在该对象上主动同步的其他所有线程进行竞争。例如，唤醒的线程在作为锁定此对象的下一个线程方面没有可靠的特权或劣势。</p>
<p>notify方法只能被作为此对象监视器的所有者的线程来调用。一个线程要想成为对象监视器的所有者，可以使用以下3种方法：</p>
<ul>
<li>执行对象的同步实例方法</li>
<li>使用synchronized内置锁</li>
<li>对于Class类型的对象，执行同步静态方法</li>
</ul>
<p>一次只能有一个线程拥有对象的监视器。</p>
<p>如果当前线程不是此对象监视器的所有者的话会抛出IllegalMonitorStateException异常</p>
<p>注意点：</p>
<p>因为notify只能在拥有对象监视器的所有者线程中调用，否则会抛出IllegalMonitorStateException异常</p>
<h2 id="public-final-native-void-notifyAll"><a href="#public-final-native-void-notifyAll" class="headerlink" title="public final native void notifyAll()"></a>public final native void notifyAll()</h2><p>同notify(),唯一的区别就是会唤醒在此对象监视器上等待的所有线程，而不是一个线程。</p>
<h2 id="public-final-native-void-wait-long-timeout-throws-InterruptedException"><a href="#public-final-native-void-wait-long-timeout-throws-InterruptedException" class="headerlink" title="public final native void wait(long timeout) throws InterruptedException"></a>public final native void wait(long timeout) throws InterruptedException</h2><p>wait方法会让当前线程等待直到另外一个线程调用对象的notify或notifyAll方法，或者超过参数设置的timeout超时时间。</p>
<p>跟notify和notifyAll方法一样，当前线程必须是此对象的监视器所有者，否则还是会发生IllegalMonitorStateException异常。</p>
<p>wait方法会让当前线程(我们先叫做线程T)将其自身放置在对象的等待集中，并且放弃该对象上的所有同步要求。出于线程调度目的，线程T是不可用并处于休眠状态，直到发生以下四件事中的任意一件：</p>
<ul>
<li>其他某个线程调用此对象的notify方法，并且线程T碰巧被任选为被唤醒的线程</li>
<li>其他某个线程调用此对象的notifyAll方法</li>
<li>其他某个线程调用Thread.interrupt方法中断线程T</li>
<li>时间到了参数设置的超时时间。如果timeout参数为0，则不会超时，会一直进行等待</li>
<li>所以可以理解wait方法相当于放弃了当前线程对对象监视器的所有者(也就是说释放了对象的锁)</li>
</ul>
<p>之后，线程T会被等待集中被移除，并且重新进行线程调度。然后，该线程以常规方式与其他线程竞争，以获得在该对象上同步的权利；一旦获得对该对象的控制权，该对象上的所有其同步声明都将被恢复到以前的状态，这就是调用wait方法时的情况。然后，线程T从wait方法的调用中返回。所以，从wait方法返回时，该对象和线程T的同步状态与调用wait方法时的情况完全相同。</p>
<p>在没有被通知、中断或超时的情况下，线程还可以唤醒一个所谓的虚假唤醒 (spurious wakeup)。虽然这种情况在实践中很少发生，但是应用程序必须通过以下方式防止其发生，即对应该导致该线程被提醒的条件进行测试，如果不满足该条件，则继续等待。换句话说，等待应总是发生在循环中，如下面的示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">    <span class="keyword">while</span> (&lt;condition does not hold&gt;)</span><br><span class="line">        obj.wait(timeout);</span><br><span class="line">        ... <span class="comment">// Perform action appropriate to condition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果当前线程在等待之前或在等待时被任何线程中断，则会抛出InterruptedException异常。在按上述形式恢复此对象的锁定状态时才会抛出此异常。</p>
<p>wait(long timeout, int nanos) throws InterruptedException方法<br>跟wait(long timeout)方法类似，多了一个nanos参数，这个参数表示额外时间（以毫微秒为单位，范围是 0-999999）。 所以超时的时间还需要加上nanos毫秒。</p>
<p>需要注意的是 wait(0, 0)和wait(0)效果是一样的，即一直等待。</p>
<h2 id="public-final-void-wait-long-timeout-int-nanos-throws-InterruptedException"><a href="#public-final-void-wait-long-timeout-int-nanos-throws-InterruptedException" class="headerlink" title="public final void wait(long timeout, int nanos) throws InterruptedException"></a>public final void wait(long timeout, int nanos) throws InterruptedException</h2><h2 id="public-final-void-wait-throws-InterruptedException"><a href="#public-final-void-wait-throws-InterruptedException" class="headerlink" title="public final void wait() throws InterruptedException"></a>public final void wait() throws InterruptedException</h2><h2 id="protected-void-finalize-throws-Throwable"><a href="#protected-void-finalize-throws-Throwable" class="headerlink" title="protected void finalize() throws Throwable"></a>protected void finalize() throws Throwable</h2><p>在对象实例被垃圾回收系统回收时触发。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/qsk/java/reflect_type_detail.html" class="pre-post btn btn-default" title="反射Type详解">
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
        <span class="hidden-xs">
            反射Type详解</span>
    </a>
    
    
</div>

<div id="comments">
    

<div id="vcomments" class="valine"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>
<script>
new Valine({
    av: AV,
    el: '#vcomments',
    appId: 'rs94TvqsO1CHWHQNk3Kx3jSg-gzGzoHsz',
    appKey: 'OnRH4bvLKckbcSHTx8EleVkw',
    placeholder: '骚年，发出你的10万个为什么',
    notify: false,
    verify: true,
    avatar: 'mm',
    meta: 'nick,mail'.split(','),
    pageSize: '10',
    path: window.location.pathname,
    lang: 'zh-CN'.toLowerCase()
})
</script>


</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#java基础之Object"><span class="toc-text">java基础之Object</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#private-static-native-void-registerNatives"><span class="toc-text">private static native void registerNatives()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-native-Class-lt-gt-getClass"><span class="toc-text">public final native Class&lt;?&gt; getClass()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-native-int-hashCode"><span class="toc-text">public native int hashCode()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-boolean-equals-Object-obj"><span class="toc-text">public boolean equals(Object obj)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#protected-native-Object-clone-throws-CloneNotSupportedException"><span class="toc-text">protected native Object clone() throws CloneNotSupportedException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-String-toString"><span class="toc-text">public String toString()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-native-void-notify"><span class="toc-text">public final native void notify()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-native-void-notifyAll"><span class="toc-text">public final native void notifyAll()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-native-void-wait-long-timeout-throws-InterruptedException"><span class="toc-text">public final native void wait(long timeout) throws InterruptedException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-void-wait-long-timeout-int-nanos-throws-InterruptedException"><span class="toc-text">public final void wait(long timeout, int nanos) throws InterruptedException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-final-void-wait-throws-InterruptedException"><span class="toc-text">public final void wait() throws InterruptedException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#protected-void-finalize-throws-Throwable"><span class="toc-text">protected void finalize() throws Throwable</span></a></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
    访问量:
    <strong id="busuanzi_value_site_pv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    &nbsp; | &nbsp;
    访客数:
    <strong id="busuanzi_value_site_uv">
        <i class="fa fa-spinner fa-spin"></i>
    </strong>
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/app.js?rev=@@hash"></script>
</body>
</html>